<!DOCTYPE html>
<html lang="en" dir="ltr"
  prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema#">

<head>
  <title>Case Study: Big Data ETL Automation | Home</title>

  <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/bootstrap/3.0.2/css/bootstrap.min.css"
    media="all" />
</head>

<body role="document" class="html not-front not-logged-in one-sidebar sidebar-first page-node page-node- ">
  <div class="main-container container">
    <header role="banner" id="page-header">
      <div class="region region-header">
        <section id="block-block-1" class="block block-block clearfix">
          <p>
            <img alt="" src="/static/images/datafundamentals250simplici.gif"
              style="height: 42px; width: 250px" /><img alt="" src="/static/images/whiteBanner.jpg"
              style="height: 42px; width: 43px" /><a href="/content/dev-offerings"><img alt=""
                src="/static/images/peteBanner.jpg" /></a><a href="/content/ops-offerings"><img alt=""
                src="/static/images/opsJeffBanner.jpg" /></a><a href="/content/df.lab"><img alt=""
                src="/static/images/scienceBanner.jpg" /></a><a href="/content/unicorn-gap"><img alt=""
                src="/static/images/unicornGapBanner.jpg"
                style="border-style: solid; border-width: 0px" /></a>
          </p>
        </section>
      </div>
    </header>
    <!-- /#page-header -->

    <div class="row">
      <aside class="col-sm-3" role="complementary">
        <div class="region region-sidebar-first well">
          <section id="block-system-navigation" class="block block-system block-menu clearfix">
            <h2 class="block-title">pre2015 Content</h2>

            <ul class="menu nav">
              <li class="first leaf">
                <a href="/content/jeff-on-ops-blog" title="">2014 Jeff on Ops Blog</a>
              </li>
              <li class="last leaf">
                <a href="/content/wins-and-losses" title="">Wins & Losses 2000-2014</a>
              </li>
            </ul>
            <h2 class="block-title">Back</h2>

            <ul class="menu nav">
              <li class="first leaf">
                <a href="/pre2015/" title="">Back to pre2015 Home</a>
              </li>
              <li class="last leaf">
                <a href="/" title="">dataFundamentals.com Home</a>
              </li>
            </ul>
          </section>
        </div>
      </aside>

      <section class="col-sm-9">
        <ol class="breadcrumb">
          <li><a href="/content/wins-and-losses" class="active-trail">Wins Losses</a></li>
          <li class="active">Case Study: Big Data ETL Automation</li>
        </ol> <a id="main-content"></a>
        <h1 class="page-header">Case Study: Big Data ETL Automation</h1>
        <article id="node-42" class="node node-page clearfix" about="/content/case-study-big-data-etl-automation"
          typeof="foaf:Document">
          <header>
            <span property="dc:title" content="Case Study: Big Data ETL Automation"
              class="rdf-meta element-hidden"></span>
          </header>
          <div class="field field-name-body field-type-text-with-summary field-label-hidden">
            <div class="field-items">
              <div class="field-item even" property="content:encoded">
                <h6>by Pete Carapetyan</h6>
                <p> </p>
                <h3>Competitively Written Spagetti Code as a Motivator</h3>
                <p>I had spent a <a href="http://case-study-big-data-etl">year on a team of brilliant developers</a>,
                  where all were madly hand-writing copy-pasted spagetti code in competition with each other on 15 plus
                  ETL jobs. Nothing can be more frustrating than an experience such as this, for a developer trained on
                  clean API code design, modularity, and code generation for tasks that are merely repetitive.</p>
                <p>After leaving this project, it occured to me that a demonstration project was in order, that other
                  companies might see an alternative to hand-writing copy pasted spagetti code.</p>
                <h3>Starting With Apache Camel</h3>
                <p>The first thing I did was make use of a well designed, OSGi based, mature and thoroughly tested,
                  commercially supported framework. Hundreds of lines of code were replaced with approximately a page of
                  code. This makes a very peaceful alternative to the ego gratification of NIH coding practices, and a
                  much more maintainable codebase.</p>
                <p>Open source Apache Camel is commercially supported as 'Fuse' by Red Hat.</p>
                <h3>Standardizing on Avro External to Codebase</h3>
                <p>The second thing I did was standardize on Apache Avro for a serialization protocol. Though strictly
                  Hadoop in the first iteration, the advantage that this profers is that it makes migration possible to
                  any of dozens of NOSQL persistence stores from Hadoop to Cassandra to Couchbase, with minimal changes,
                  all while maintaining schema for each piece of data within the data itself.</p>
                <p>A separate project was written to serialize data as Avro, and is opensourced on BitBucket for anyone
                  to consume as an OSGi module. See <a
                    href="https://bitbucket.org/datafundamentals/avro_from_delimited">here</a> for link to same.</p>
                <h3>Separating Code From Metadata</h3>
                <p>Amazing things can happen when metadata isn't buried deep in the bowels of the code! Where a simple
                  properties file was sufficient to provide metada, a web UI was created to add a little flourish to the
                  data collection and validation. This UI was open sourced, see here for link to same. It is not
                  production code, but neither does it have to be, as it is only used by and for a developer.</p>
                <h3>Clean Design</h3>
                <p>Reviewing the hypothesis: <em><strong>Time spent copypasting mutliple ETL jobs later can instead be
                      spent cleaning up the design at the front of the project.</strong></em> That is what occurred. The
                  design is not perfected, but it is clean and simple, thus fulfilling it's role as a demo project.</p>
                <p>When the templates are used with the metadata to generate this code, you can observer the resulting
                  code for yourself. The code generation project is visible as part of the Carrie UI above.</p>
                <h3>Management By Exception</h3>
                <p>One of the tenets of devops is that everything reasonable is automated, freeing up the developer to
                  focus his attention on the exceptions, not the rule.</p>
                <p>The code which is generated by the above process follows that pattern, in that it is expected to be
                  extensible via hand fixes and additions. Not every ETL job fits the same paradigm, but neither does it
                  have to. That which is consistent is code generated, that which is not is manually modified.</p>
                <h3>The Ops of Devops</h3>
                <p>The project was rounded out by a fully automated VM creation, so that the entire process can be run
                  in a self generated VM, freeing the developer to focus on value add rather than setups.</p>
                <p>Jeff created this setup using Chef and Vagrant, and offers same kinds of services to others who might
                  wish to avail themselves of this capability.</p>
                <h3>Available On Line</h3>
                <p>Please consult this 20 minute video link for a demo of how this setup works, end to end.</p>
              </div>
            </div>
          </div>
          <footer>
          </footer>
        </article>
      </section>
    </div>
  </div>

  <footer class="footer container">
    <div class="region region-footer">
      <section id="block-block-2" class="block block-block clearfix">
        <hr />
        <p class="rtecenter">
          @devopsjeff
          <a href="mailto:pete@datafundamentals.com">pete@datafundamentals.com</a>
          @appwritercom
        </p>
        <hr />
        <p class="rtecenter">Copyright 2014, 2015 - dataFundamentals</p>
      </section>
    </div>
  </footer>
  
</body>

</html>